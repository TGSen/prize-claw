{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "glow",
    "default",
    "type",
    "Node",
    "prize",
    "close",
    "loginBtn",
    "mask",
    "onLoad",
    "init",
    "listen",
    "main",
    "director",
    "getScene",
    "getChildByName",
    "getComponent",
    "on",
    "EventType",
    "TOUCH_START",
    "event",
    "stopPropagation",
    "scale",
    "TOUCH_END",
    "hide",
    "login",
    "show",
    "uri",
    "loader",
    "load",
    "err",
    "texture",
    "alert",
    "Sprite",
    "spriteFrame",
    "SpriteFrame",
    "node",
    "active",
    "opacity",
    "runAction",
    "fadeIn",
    "repeatForever",
    "rotateBy",
    "user",
    "phone",
    "sequence",
    "fadeOut",
    "callFunc"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "export default cc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        glow: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        prize: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        close: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n\r\n        loginBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        mask: {\r\n            default: null,\r\n            type: cc.Node\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        this.init()\r\n        this.listen()\r\n    },\r\n\r\n    init() {\r\n        /*\r\n        * 初始化时\r\n        * 获取 main 组件\r\n        */\r\n        this.main = cc.director.getScene()\r\n            .getChildByName('main').getComponent('main')\r\n\r\n    },\r\n\r\n    listen() {\r\n        this.mask.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            event => {\r\n                event.stopPropagation()\r\n            }\r\n        )\r\n        // 关闭\r\n        this.close.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            () => {\r\n                this.close.scale = .95\r\n            }\r\n        )\r\n        this.close.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                this.close.scale = 1\r\n                this.hide()\r\n            }\r\n        )\r\n\r\n        // login\r\n        this.loginBtn.on(\r\n            cc.Node.EventType.TOUCH_START,\r\n            () => {\r\n                this.loginBtn.scale = .95\r\n            }\r\n        )\r\n        this.loginBtn.on(\r\n            cc.Node.EventType.TOUCH_END,\r\n            () => {\r\n                this.loginBtn.scale = 1\r\n                this.hide()\r\n                this.main.login.show()\r\n            }\r\n        )\r\n\r\n    },\r\n\r\n    show(uri) {\r\n        cc.loader.load(uri, (err, texture) => {\r\n            if (err) alert(err)\r\n            else {\r\n                // 设置奖品图片\r\n                this.prize.getComponent(cc.Sprite).spriteFrame =\r\n                    new cc.SpriteFrame(texture)\r\n\r\n\r\n                if (this.node.active) this.node.opacity = 0\r\n                else {\r\n                    this.node.active = true\r\n                    this.node.opacity = 0\r\n                }\r\n                this.node.runAction(cc.fadeIn(.5))\r\n\r\n                // 炫光动画\r\n                this.glow.runAction(cc.repeatForever(cc.rotateBy(3, 360)))\r\n\r\n                //是否登录\r\n                if (this.main.user.phone) {\r\n                    this.loginBtn.active = false\r\n                } else {\r\n                    this.loginBtn.active = true\r\n                }\r\n            }\r\n\r\n        })\r\n    },\r\n\r\n    hide() {\r\n        this.node.runAction(cc.sequence(\r\n            cc.fadeOut(.5),\r\n            cc.callFunc(() => {\r\n                this.node.active = false\r\n            })\r\n        ))\r\n    }\r\n\r\n})\r\n"
  ]
}